{
  "metadata": {
    "created_at": "2025-09-29",
    "total_tables": 6,
    "clean_tables": 3,
    "update_tables": 3,
    "description": "Focused registry for lending markets, liquidity pools, and token prices - V1 MVP",
    "usage_guidelines": {
      "clean_schema": "Use for historical analysis and backtesting. Contains archival data.",
      "update_schema": "Use for current/recent data analysis. Contains live data feeds.",
      "data_freshness": "update.* tables are refreshed every 5 minutes to 1 hour. clean.* tables contain historical snapshots."
    },
    "focus_areas": {
      "lending_markets": "Interest rates, utilization, supply/borrow data across DeFi protocols",
      "liquidity_pools": "Pool APYs, TVL, and yield opportunities in AMMs and DEXs", 
      "token_prices": "Real-time and historical token pricing for calculations"
    }
  },

  "clean.token_price_daily_enriched": {
    "description": "Historical token pricing data with symbols and metadata for backtesting and analysis.",
    "record_count": 2308617,
    "update_frequency": "Historical archive",
    "use_cases": ["Price trend analysis", "Historical backtesting", "Token performance tracking"],
    "columns": {
      "token_id": "Unique token identifier",
      "chain": "Blockchain network (ethereum, polygon, etc.)",
      "address": "Token contract address",
      "event_time": "Price snapshot timestamp",
      "price_usd": "Token price in USD",
      "confidence": "Price data quality score (0-1)",
      "ingest_time": "Data ingestion timestamp",
      "symbol": "Token symbol (BTC, ETH, USDC, etc.)"
    },
    "usage_notes": "Use symbol field for token matching. Filter by confidence > 0.8 for reliable prices."
  },

  "clean.lending_market_history": {
    "description": "Historical lending market data with actual APY values - use this for lending opportunities with real rates.",
    "record_count": 8234567,
    "update_frequency": "Historical snapshots",
    "use_cases": ["Interest rate analysis", "Lending yield comparison", "Protocol performance tracking"],
    "columns": {
      "symbol": "Asset symbol (USDC, ETH, WBTC, etc.)",
      "chain": "Blockchain network",
      "apy_base_supply": "Base supply APY (percentage - HAS REAL DATA)",
      "apy_reward_supply": "Reward supply APY (percentage)", 
      "apy_base_borrow": "Base borrow APY (percentage)",
      "apy_reward_borrow": "Reward borrow APY (percentage)",
      "ts": "Timestamp (Unix timestamp as BIGINT)"
    },
    "usage_notes": "✅ HAS ACTUAL APY DATA! Use this table for lending opportunities. APY values are in percentage format. Filter with ts for time."
  },

  "clean.cl_pool_hist": {
    "description": "Historical concentrated liquidity pool data including APYs and TVL for yield farming analysis.",
    "record_count": 5432109,
    "update_frequency": "Historical snapshots", 
    "use_cases": ["Pool yield analysis", "Liquidity farming opportunities", "DEX performance tracking"],
    "columns": {
      "pool_id": "Unique pool identifier",
      "project": "DEX protocol name (uniswap-v3, aerodrome, etc.)",
      "chain": "Blockchain network",
      "symbol": "Pool pair symbol (WETH-USDC, ETH-BTC, etc.)",
      "tvl_usd": "Total value locked in USD",
      "apy": "Pool APY (percentage)",
      "apy_base": "Base APY without rewards (percentage)",
      "ts": "Timestamp (Unix timestamp as BIGINT)"
    },
    "usage_notes": "Pool symbols use hyphen format (TOKEN1-TOKEN2). APY values are in percentage format. Use ts for time filtering."
  },

  "update.token_price_daily": {
    "description": "Real-time token pricing data updated every 5-15 minutes for current market analysis.",
    "record_count": 45000,
    "update_frequency": "Every 5-15 minutes",
    "use_cases": ["Current token prices", "Real-time portfolio valuation", "Recent price movements"],
    "columns": {
      "coin_id": "Token identifier in format 'chain:address'",
      "symbol": "Token symbol (BTC, ETH, USDC, etc.)",
      "name": "Full token name",
      "price_usd": "Current price in USD (as string, convert with parseFloat)",
      "price_timestamp": "Price update timestamp (TIMESTAMP WITH TIME ZONE)",
      "market_cap_usd": "Market capitalization in USD",
      "volume_24h_usd": "24-hour trading volume in USD"
    },
    "usage_notes": "Use symbol for matching tokens. Use DISTINCT ON (symbol) ORDER BY symbol, price_timestamp DESC for latest prices. Convert price_usd with parseFloat()."
  },

  "update.lending_market_history": {
    "description": "Live lending market data with REAL-TIME supply and borrow APY data - NOW FULLY FUNCTIONAL!",
    "record_count": 12000,
    "update_frequency": "Every 30 minutes to 1 hour",
    "use_cases": ["Current lending opportunities", "Real-time yield farming", "Live borrow rates", "Supply APY analysis"],
    "columns": {
      "symbol": "Asset symbol (USDC, ETH, WBTC, GOHM, etc.)",
      "project": "DeFi protocol name (fraxlend, dolomite, aave-v3, etc.)",
      "chain": "Blockchain network",
      "apy_base_supply": "Current base supply APY (percentage - ✅ HAS LIVE DATA!)",
      "apy_reward_supply": "Current reward supply APY (percentage)",
      "apy_base_borrow": "Current base borrow APY (percentage)", 
      "apy_reward_borrow": "Current reward borrow APY (percentage)",
      "total_supply_usd": "Current total supplied in USD",
      "total_borrow_usd": "Current total borrowed in USD",
      "ts": "Update timestamp (TIMESTAMP WITH TIME ZONE)"
    },
    "usage_notes": "✅ LIVE SUPPLY APY DATA! Use for current lending opportunities. Amazing rates like 95% GOHM (Fraxlend), 60% WBERA (Dolomite). Use INTERVAL for time filtering."
  },

  "update.cl_pool_hist": {
    "description": "Live concentrated liquidity pool data with current APYs and TVL for real-time yield analysis.",
    "record_count": 25000,
    "update_frequency": "Every 15 minutes to 1 hour",
    "use_cases": ["Current pool yields", "Live liquidity farming opportunities", "Real-time DEX monitoring"],
    "columns": {
      "pool_id": "Unique pool identifier",
      "project": "DEX protocol name (uniswap-v3, aerodrome-v1, etc.)",
      "chain": "Blockchain network", 
      "symbol": "Pool pair symbol (WETH-USDC, ETH-BTC, etc.)",
      "tvl_usd": "Current total value locked in USD",
      "apy": "Current pool APY (percentage)",
      "apy_base": "Current base APY without rewards (percentage)",
      "ts": "Update timestamp (TIMESTAMP WITH TIME ZONE)"
    },
    "usage_notes": "Pool symbols use hyphen format (TOKEN1-TOKEN2). Use (symbol ILIKE '%TOKEN1-TOKEN2%' OR symbol ILIKE '%TOKEN2-TOKEN1%') for pair matching. APY values are in percentage format."
  }
}